<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ’˜ A Question For You</title>
  <style>
    :root{
      --bg1:#fff1f5;
      --bg2:#ffe4ec;
      --card:#ffffffcc;
      --text:#2b2b2b;
      --pink:#ff4d8d;
      --pink2:#ff77aa;
      --shadow: 0 18px 45px rgba(255,77,141,.25);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background:
        radial-gradient(1200px 800px at 15% 10%, #ffd6e4 0%, transparent 55%),
        radial-gradient(900px 600px at 90% 30%, #ffe8f0 0%, transparent 60%),
        linear-gradient(135deg,var(--bg1),var(--bg2));
      overflow:hidden;
    }

    /* floating hearts */
    .heart{
      position:absolute;
      width:18px;height:18px;
      transform: rotate(45deg);
      background: rgba(255,77,141,.35);
      border-radius: 4px;
      filter: blur(.1px);
      animation: floatUp 10s linear infinite;
      opacity:.75;
    }
    .heart:before,.heart:after{
      content:"";
      position:absolute;
      width:18px;height:18px;
      background: inherit;
      border-radius: 50%;
    }
    .heart:before{ left:-9px; top:0; }
    .heart:after{ top:-9px; left:0; }
    @keyframes floatUp{
      from{ transform: translateY(30vh) rotate(45deg); }
      to{ transform: translateY(-120vh) rotate(45deg); }
    }

    .wrap{
      width:min(920px, 92vw);
      display:grid;
      place-items:center;
      padding:24px;
    }

    .card{
      width:min(720px, 100%);
      background:var(--card);
      border:1px solid rgba(255,255,255,.6);
      box-shadow: var(--shadow);
      border-radius:28px;
      padding:26px 22px;
      backdrop-filter: blur(10px);
      position:relative;
    }

    .topline{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:10px;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 12px;
      background: rgba(255,77,141,.12);
      border:1px solid rgba(255,77,141,.22);
      border-radius:999px;
      font-weight:600;
      font-size:13px;
    }

    .progress{
      font-size:13px;
      opacity:.8;
      white-space:nowrap;
    }

    h1{
      margin:10px 0 8px;
      font-size: clamp(22px, 4vw, 34px);
      line-height:1.1;
      letter-spacing:-.02em;
    }

    p{
      margin: 6px 0 0;
      font-size: 15px;
      line-height:1.5;
      opacity:.92;
    }

    .scene{
      margin-top:18px;
      display:grid;
      gap:14px;
    }

    .bubble{
      background: rgba(255,255,255,.7);
      border:1px solid rgba(0,0,0,.06);
      border-radius:18px;
      padding:14px 14px;
    }

    .question{
      font-weight:700;
      margin:0 0 6px;
      font-size:16px;
    }

    .choices{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:10px;
      align-items:center;
      position:relative;
    }

    button{
      border:0;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight:750;
      cursor:pointer;
      transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
      user-select:none;
    }

    .btn-yes{
      background: linear-gradient(135deg, var(--pink), var(--pink2));
      color:white;
      box-shadow: 0 10px 22px rgba(255,77,141,.35);
    }
    .btn-yes:hover{ transform: translateY(-1px); filter: brightness(1.03); }

    .btn-no{
      background: rgba(0,0,0,.06);
      color:#333;
    }
    .btn-no:hover{ transform: translateY(-1px); }

    .btn-next{
      background: rgba(255,77,141,.10);
      border:1px solid rgba(255,77,141,.28);
      color:#b3124a;
    }

    .small{
      font-size:13px;
      opacity:.8;
      margin-top:8px;
    }

    .inputs{
      display:grid;
      gap:10px;
      margin-top:10px;
    }

    input, textarea, select{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(0,0,0,.10);
      background: rgba(255,255,255,.9);
      font: inherit;
      outline:none;
    }
    textarea{ min-height:92px; resize:vertical; }

    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width:560px){ .row{ grid-template-columns:1fr; } }

    .final{
      text-align:center;
      padding:10px 6px 2px;
    }

    .bigheart{
      font-size: 52px;
      filter: drop-shadow(0 10px 18px rgba(255,77,141,.25));
      animation: thump 1.2s ease-in-out infinite;
      display:inline-block;
      margin:6px 0 2px;
    }
    @keyframes thump{
      0%,100%{ transform: scale(1); }
      50%{ transform: scale(1.08); }
    }

    .pill{
      display:inline-flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:center;
      margin-top:10px;
    }
    .pill span{
      padding:8px 12px;
      border-radius:999px;
      background: rgba(255,77,141,.10);
      border:1px solid rgba(255,77,141,.18);
      font-size:13px;
      font-weight:650;
    }

    /* â€œNoâ€ button move trick */
    .no-wrap{ position:relative; display:inline-block; }

    .footer-note{
      margin-top:12px;
      text-align:center;
      font-size:12px;
      opacity:.7;
    }

    .sparkle{
      position:absolute;
      pointer-events:none;
      width:10px;height:10px;
      border-radius:50%;
      background: rgba(255,77,141,.75);
      transform: translate(-50%,-50%);
      animation: pop .55s ease-out forwards;
      filter: blur(.2px);
    }
    @keyframes pop{
      0%{ opacity:0; transform: translate(-50%,-50%) scale(.6); }
      20%{ opacity:1; }
      100%{ opacity:0; transform: translate(-50%,-70%) scale(1.6); }
    }
  </style>
</head>
<body>
  <script>
    // spawn background hearts
    const heartCount = 22;
    for(let i=0;i<heartCount;i++){
      const h=document.createElement('div');
      h.className='heart';
      h.style.left = Math.random()*100+'vw';
      h.style.animationDuration = (7+Math.random()*7)+'s';
      h.style.animationDelay = (-Math.random()*12)+'s';
      const s = 10 + Math.random()*18;
      h.style.width = s+'px';
      h.style.height = s+'px';
      h.style.opacity = 0.35 + Math.random()*0.55;
      document.body.appendChild(h);
    }
  </script>

  <div class="wrap">
    <div class="card">
      <div class="topline">
        <div class="badge">ğŸ’Œ For <span id="herName">HER_NAME</span></div>
        <div class="progress" id="progress">Step 1 of 5</div>
      </div>

      <h1 id="title">I have a tiny important questionâ€¦</h1>
      <p id="subtitle">Itâ€™s romantic. Itâ€™s serious. Itâ€™s scientifically proven to increase happiness by likeâ€¦ 9000%.</p>

      <div class="scene" id="scene"></div>

      <div class="footer-note">Made with embarrassing levels of love ğŸ’—</div>
    </div>
  </div>

  <script>
    // ======= Customize =======
    const NAME = "Shreya";
    const YOUR_NAME = "Samarpan";
    // =========================

    document.getElementById("herName").textContent = NAME;

    const scene = document.getElementById("scene");
    const title = document.getElementById("title");
    const subtitle = document.getElementById("subtitle");
    const progress = document.getElementById("progress");

    let answers = {
      petName: "",
      dateIdea: "",
      snack: "",
      song: "",
      message: "",
      finalYes: null
    };

    const steps = [
      renderIntro,
      renderCuteQuiz,
      renderLittlePromises,
      renderBigQuestion,
      renderFinal
    ];

    let stepIndex = 0;

    function setStep(i){
      stepIndex = i;
      progress.textContent = `Step ${i+1} of ${steps.length}`;
      scene.innerHTML = "";
      steps[i]();
      window.scrollTo({top:0, behavior:"smooth"});
    }

    function sparkle(x,y){
      const s=document.createElement('div');
      s.className='sparkle';
      s.style.left = x+'px';
      s.style.top = y+'px';
      document.body.appendChild(s);
      setTimeout(()=>s.remove(), 600);
    }

    function bubble(q, inner){
      const b=document.createElement('div');
      b.className='bubble';
      const qt=document.createElement('div');
      qt.className='question';
      qt.textContent=q;
      b.appendChild(qt);
      b.appendChild(inner);
      return b;
    }

    function btn(label, cls, onClick){
      const b=document.createElement('button');
      b.textContent = label;
      b.className = cls;
      b.addEventListener('click', (e)=>{
        sparkle(e.clientX, e.clientY);
        onClick?.(e);
      });
      return b;
    }

    function renderIntro(){
      title.textContent = `Hi ${NAME}â€¦ ğŸ¥ºğŸ‘‰ğŸ‘ˆ`;
      subtitle.textContent = "Before I ask the BIG thing, I need to confirm a few extremely important facts for the Official Romance Databaseâ„¢.";

      const inner = document.createElement('div');
      inner.innerHTML = `
        <p style="margin:0">This will only take a moment. Side effects may include: smiling, blushing, and wanting to hug me.</p>
        <div class="choices" style="margin-top:12px"></div>
      `;
      const choices = inner.querySelector('.choices');
      choices.appendChild(btn("Okay fine ğŸ˜Œ", "btn-yes", ()=>setStep(1)));
      choices.appendChild(btn("Iâ€™m intrigued ğŸ‘€", "btn-next", ()=>setStep(1)));

      scene.appendChild(bubble("Ready?", inner));
    }

    function renderCuteQuiz(){
      title.textContent = "Mini love quiz (no wrong answersâ€¦ mostly)";
      subtitle.textContent = "Answer these so I can plan the cutest Valentine vibe possible.";

      const inner = document.createElement('div');
      inner.className='inputs';
      inner.innerHTML = `
        <div class="row">
          <div>
            <label style="font-weight:650; font-size:13px;">What should I call you today?</label>
            <input id="petName" placeholder="e.g., my love, cutie, gorgeous, ğŸ¥ ???" />
          </div>
          <div>
            <label style="font-weight:650; font-size:13px;">Choose a Valentine energy:</label>
            <select id="song">
              <option value="">Pick oneâ€¦</option>
              <option>Soft & cozy ğŸ•¯ï¸</option>
              <option>Funny & chaotic ğŸ˜ˆ</option>
              <option>Fancy & romantic ğŸŒ¹</option>
              <option>Snack-driven ğŸ˜‹</option>
            </select>
          </div>
        </div>

        <div>
          <label style="font-weight:650; font-size:13px;">Ideal date idea?</label>
          <input id="dateIdea" placeholder="Dinner, movie, picnic, stargazing, arcade, blanket fortâ€¦" />
        </div>

        <div>
          <label style="font-weight:650; font-size:13px;">One snack youâ€™d happily share with me:</label>
          <input id="snack" placeholder="Chocolate? Fries? Boba? Your secret favorite?" />
        </div>

        <div class="choices">
          <button class="btn-yes" id="saveQuiz">Save answers ğŸ’¾ğŸ’–</button>
          <button class="btn-next" id="skipQuiz">Skip (but Iâ€™ll still guess) ğŸ˜¤</button>
        </div>

        <div class="small">These answers stay on this device only (no servers, no weird tracking, just vibes).</div>
      `;

      inner.querySelector("#saveQuiz").addEventListener("click", ()=>{
        answers.petName = inner.querySelector("#petName").value.trim() || "my love";
        answers.song = inner.querySelector("#song").value || "Soft & cozy ğŸ•¯ï¸";
        answers.dateIdea = inner.querySelector("#dateIdea").value.trim() || "something cute together";
        answers.snack = inner.querySelector("#snack").value.trim() || "chocolate";
        setStep(2);
      });

      inner.querySelector("#skipQuiz").addEventListener("click", ()=>{
        answers.petName = "Chaakey";
        answers.song = "Soft & cozy ğŸ•¯ï¸";
        answers.dateIdea = "something cute together";
        answers.snack = "chocolate";
        setStep(2);
      });

      scene.appendChild(bubble("Quick questions:", inner));
    }

    function renderLittlePromises(){
      title.textContent = "A few tiny promises from me ğŸ¤ğŸ’—";
      subtitle.textContent = "Because romance is in the details (and also in snacks).";

      const inner = document.createElement('div');
      inner.innerHTML = `
        <p style="margin:0">
          Today you are officially <b>${answers.petName}</b>.<br/>
          Valentine energy: <b>${answers.song}</b>.<br/>
          Date idea: <b>${answers.dateIdea}</b>.<br/>
          Snack treaty: I will share <b>${answers.snack}</b> and not pretend I didnâ€™t eat the last one.
        </p>
        <div class="pill">
          <span>âœ… Extra compliments</span>
          <span>âœ… Maximum respect</span>
          <span>âœ… Soft hands holding</span>
          <span>âœ… Silly jokes on demand</span>
        </div>
        <div class="choices" style="margin-top:14px">
          <button class="btn-yes" id="continue">Continue ğŸ¥°</button>
          <button class="btn-next" id="more">Add one more promise âœï¸</button>
        </div>
      `;

      inner.querySelector("#continue").addEventListener("click", ()=>setStep(3));
      inner.querySelector("#more").addEventListener("click", ()=>{
        const extra = prompt("Add one cute promise (example: 'I will kiss your forehead 7 times'):");
        if(extra && extra.trim()){
          const pill = inner.querySelector(".pill");
          const s = document.createElement("span");
          s.textContent = "âœ… " + extra.trim();
          pill.appendChild(s);
        }
      });

      scene.appendChild(bubble("Contract of Cute:", inner));
    }

    // No button behavior
    let noDodges = 0;
    const noPhrases = [
      "Are you sure? ğŸ¥º",
      "Wait wait wait ğŸ˜­",
      "That button seems suspiciousâ€¦",
      "Your finger slipped, try again ğŸ˜Œ",
      "Okay but what ifâ€¦ yes? ğŸ˜³",
      "Iâ€™m gonna cry (tiny) ğŸ˜”",
      "Thatâ€™s illegal actually ğŸš”ğŸ’˜",
      "The universe says no to â€˜noâ€™ ğŸŒŒ",
      "I asked nicely though ğŸ¥¹",
      "Last chanceâ€¦ pretty please? ğŸ“"
    ];

    function renderBigQuestion(){
      title.textContent = `${NAME}â€¦ the big question ğŸ’˜`;
      subtitle.textContent = "My heart has prepared a formal proposal. Please review carefully.";

      const inner = document.createElement('div');
      inner.innerHTML = `
        <p style="margin:0 0 10px;">
          Roses are red, my thoughts are stuck on you,<br/>
          Life is way sweeter when Iâ€™m next to you.<br/><br/>
          Soâ€¦ will you be my Valentine? ğŸŒ¹
        </p>
        <div class="choices" id="choiceArea">
          <button class="btn-yes" id="yesBtn">YES!!! ğŸ’</button>
          <span class="no-wrap">
            <button class="btn-no" id="noBtn">No ğŸ˜¶</button>
          </span>
        </div>
        <div class="small" id="noHint">You can answer honestlyâ€¦ but the â€œNoâ€ button is shy.</div>
      `;

      const yesBtn = inner.querySelector("#yesBtn");
      const noBtn = inner.querySelector("#noBtn");
      const wrap = inner.querySelector(".no-wrap");
      const hint = inner.querySelector("#noHint");

      yesBtn.addEventListener("click", ()=>{
        answers.finalYes = true;
        setStep(4);
      });

      function dodge(){
        noDodges++;
        hint.textContent = noPhrases[Math.min(noDodges-1, noPhrases.length-1)];

        const area = inner.querySelector("#choiceArea").getBoundingClientRect();
        const maxX = Math.max(0, area.width - 110);
        const maxY = 40;

        wrap.style.position = "relative";
        wrap.style.display = "inline-block";

        const x = Math.random()*maxX - (maxX/2);
        const y = (Math.random()*maxY) - (maxY/2);

        wrap.style.transform = `translate(${x}px, ${y}px)`;

        if(noDodges >= 10){
          noBtn.textContent = "Iâ€™m shy ğŸ™ˆ";
        }
        if(noDodges >= 14){
          noBtn.textContent = "Okay fineâ€¦ click me";
          noBtn.removeEventListener("mouseenter", dodge);
          noBtn.removeEventListener("touchstart", dodge);
        }
      }

      noBtn.addEventListener("mouseenter", dodge);
      noBtn.addEventListener("touchstart", (e)=>{ e.preventDefault(); dodge(); }, {passive:false});

      noBtn.addEventListener("click", ()=>{
        answers.finalYes = false;
        setStep(4);
      });

      scene.appendChild(bubble("Moment of truth:", inner));
    }

    function renderFinal(){
      const yes = answers.finalYes === true;

      if(yes){
        title.textContent = "YAYYYYY ğŸ’–ğŸ’–ğŸ’–";
        subtitle.textContent = "My heart is doing backflips. Very graceful. Definitely not tripping.";
      } else {
        title.textContent = "Okayâ€¦ I hear you ğŸ¥º";
        subtitle.textContent = "But I still like you an unreasonable amount. That part is non-negotiable.";
      }

      const inner = document.createElement('div');
      inner.className = "final";
      inner.innerHTML = `
        <div class="bigheart">ğŸ’˜</div>
        <p style="margin:6px 0 0;">
          ${yes
            ? `Officially confirmed: <b>${NAME}</b> is my Valentine. ğŸ¥°`
            : `Officially confirmed: I will keep being sweet to <b>${NAME}</b> anyway. ğŸŒ·`
          }
        </p>

        <div style="margin-top:14px; text-align:left" class="bubble">
          <div class="question">One last thingâ€¦ leave me a message ğŸ’Œ</div>
          <textarea id="msg" placeholder="Tell me what youâ€™d love to do, what you want from me, or just type â€˜kiss meâ€™â€¦ I wonâ€™t judge."></textarea>
          <div class="choices" style="margin-top:10px">
            <button class="btn-yes" id="copyBtn">Copy my message ğŸ’—</button>
            <button class="btn-next" id="restartBtn">Restart ğŸ”</button>
          </div>
          <div class="small">Tip: after she types, hit â€œCopyâ€ and send it to yourself, or screenshot the page.</div>
        </div>

        <p style="margin-top:14px; opacity:.9">
          ${yes
            ? `Now we plan the date: <b>${answers.dateIdea}</b> + <b>${answers.snack}</b> + you = perfection.`
            : `Even if today is a â€œno,â€ I still choose kindness, patience, and making you feel loved.`
          }
        </p>
      `;

      inner.querySelector("#copyBtn").addEventListener("click", async ()=>{
        const msg = inner.querySelector("#msg").value.trim();
        answers.message = msg;

        const text =
`${NAME}, my ${answers.petName} ğŸ’—

You said: ${answers.finalYes ? "YES" : "NO"} to being my Valentine.

Your vibe: ${answers.song}
Date idea: ${answers.dateIdea}
Snack treaty: ${answers.snack}

Your message:
${msg || "(no message â€” just mysterious romance)"}

â€” ${YOUR_NAME !== "YOUR_NAME" ? YOUR_NAME : "ğŸ’˜"}`;

        try{
          await navigator.clipboard.writeText(text);
          alert("Copied! Now paste it in a text or save it ğŸ’Œ");
        }catch(err){
          alert("Couldnâ€™t auto-copy (browser permission). You can manually select and copy:\n\n" + text);
        }
      });

      inner.querySelector("#restartBtn").addEventListener("click", ()=>{
        noDodges = 0;
        answers = { petName:"", dateIdea:"", snack:"", song:"", message:"", finalYes:null };
        setStep(0);
      });

      scene.appendChild(inner);
    }

    setStep(0);
  </script>
</body>
</html>
